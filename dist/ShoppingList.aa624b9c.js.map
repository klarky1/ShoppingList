{"mappings":"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","sources":["<anon>","src/js/script.js"],"sourcesContent":["var $3fba0bda95caa784$exports = {};\n// ** DOM-elements **\nconst $3fba0bda95caa784$var$product = {\n    form: document.getElementById(\"product-form\"),\n    textInput: document.getElementById(\"product-text-input\"),\n    alertPopup: document.getElementById(\"product-form\").querySelector(\".alert\"),\n    list: document.getElementById(\"product-ordered-list\")\n};\nconst $3fba0bda95caa784$var$modal = {\n    formContainer: document.getElementById(\"modal-1\"),\n    form: document.getElementById(\"modal-form\"),\n    textInput: document.getElementById(\"modal-text-input\"),\n    cancelBtn: document.getElementById(\"modal-cancel-button\"),\n    alertPopup: document.getElementById(\"modal-form\").querySelector(\".alert\"),\n    confirmContainer: document.getElementById(\"modal-2\"),\n    yesBtn: document.getElementById(\"modal-yes-button\"),\n    noBtn: document.getElementById(\"modal-no-button\")\n};\nconst $3fba0bda95caa784$var$control = {\n    checkTooltip: document.getElementById(\"check-button\").querySelector(\".tooltip\"),\n    checkbox: document.getElementById(\"toggle-all-checkbox\"),\n    checkBtn: document.getElementById(\"check-button\"),\n    actionBtn: document.getElementById(\"action-button\"),\n    actionList: document.getElementById(\"action-unordered-list\"),\n    sortBtn: document.getElementById(\"sort-button\"),\n    sortInfoPopup: document.getElementById(\"sort-button\").querySelector(\".sort-type-info\"),\n    formBtn: document.getElementById(\"form-button\"),\n    showBtn: document.getElementById(\"show-button\"),\n    selectBtn: document.getElementById(\"select-button\"),\n    selectList: document.getElementById(\"select-unordered-list\")\n};\nconst $3fba0bda95caa784$var$action = {\n    deleteSelectedBtn: document.getElementById(\"delete-selected-button\"),\n    resetColorsBtn: document.getElementById(\"reset-colors-button\"),\n    saveToDiskBtn: document.getElementById(\"save-to-disk-button\"),\n    deleteFromDiskBtn: document.getElementById(\"delete-from-disk-button\")\n};\n// ** Variables **\nconst $3fba0bda95caa784$var$productCollection = {}; // general collection containing all list-items added to product.list without \"formed-list\" class\nconst $3fba0bda95caa784$var$listCollection = {}; // collection of lists, e.g. { list1: { Milk: element } }\nlet $3fba0bda95caa784$var$currentListName = null; // name of the list that is currently shown in product.list with \"formed-list\" class, e.g. list1\nconst $3fba0bda95caa784$var$selectCollection = []; // array-collection of list-items added to control.selectList where each represents a corresponding list from listCollection\nconst $3fba0bda95caa784$var$popupTimerIDs = [];\nlet $3fba0bda95caa784$var$sortIndex = 2;\n// ** How it works **\n// If product.list has \"formed-list\" class then add-button will add list-item only to listCollection[currentListName] object\n// If product.list has \"formed-list\" class then it shows only list-items that are currently in listCollection[currentListName] object\n// If product.list has no \"formed-list\" class then add-button will add list-item only to productCollection object\n// If product.list has no \"formed-list\" class then it shows only list-items that are currently in productCollection object\n// ** Common Functions **\nconst $3fba0bda95caa784$var$isFormedListActive = ()=>$3fba0bda95caa784$var$product.list.classList.contains(\"formed-list\");\nconst $3fba0bda95caa784$var$showPopup = (popup, index, duration = 1800, fading = 200)=>{\n    popup.style.visibility = \"visible\";\n    popup.style.opacity = 1;\n    clearTimeout($3fba0bda95caa784$var$popupTimerIDs[index]);\n    $3fba0bda95caa784$var$popupTimerIDs[index] = setTimeout(()=>{\n        popup.style.opacity = 0;\n        setTimeout(()=>{\n            popup.style.visibility = \"hidden\";\n        }, fading);\n    }, duration);\n};\nconst $3fba0bda95caa784$var$updateControlAndActionBtns = ()=>{\n    if ($3fba0bda95caa784$var$product.list.children.length !== 0 && Array.from($3fba0bda95caa784$var$product.list.children).every((listItem)=>listItem.querySelector(\"input\").checked)) {\n        $3fba0bda95caa784$var$control.checkbox.checked = true;\n        $3fba0bda95caa784$var$control.checkTooltip.innerHTML = \"Remove<br>all\";\n    } else {\n        $3fba0bda95caa784$var$control.checkbox.checked = false;\n        $3fba0bda95caa784$var$control.checkTooltip.innerHTML = \"Select<br>all\";\n    }\n    if ($3fba0bda95caa784$var$product.list.querySelector(\"li:has(input:checked)\")) {\n        $3fba0bda95caa784$var$control.formBtn.classList.remove(\"disabled\");\n        $3fba0bda95caa784$var$action.deleteSelectedBtn.firstElementChild.classList.remove(\"disabled\");\n    } else {\n        $3fba0bda95caa784$var$control.formBtn.classList.add(\"disabled\");\n        $3fba0bda95caa784$var$action.deleteSelectedBtn.firstElementChild.classList.add(\"disabled\");\n    }\n};\nconst $3fba0bda95caa784$var$updateActionResetBtn = ()=>{\n    if ($3fba0bda95caa784$var$product.list.querySelector(\"li.selected-product\")) $3fba0bda95caa784$var$action.resetColorsBtn.firstElementChild.classList.remove(\"disabled\");\n    else $3fba0bda95caa784$var$action.resetColorsBtn.firstElementChild.classList.add(\"disabled\");\n};\nconst $3fba0bda95caa784$var$updateActionSaveBtn = ()=>{\n    if (Object.keys($3fba0bda95caa784$var$productCollection).length !== 0 || $3fba0bda95caa784$var$selectCollection.length !== 0) $3fba0bda95caa784$var$action.saveToDiskBtn.firstElementChild.classList.remove(\"disabled\");\n    else $3fba0bda95caa784$var$action.saveToDiskBtn.firstElementChild.classList.add(\"disabled\");\n};\n// ** Functions for add-button **\nconst $3fba0bda95caa784$var$addProductToListCollection = ({ productName: productName, defaultIndex: defaultIndex, currentIndex: currentIndex, selected: selected, listName: listName = $3fba0bda95caa784$var$currentListName })=>{\n    const listItem = document.createElement(\"li\");\n    listItem.dataset.productName = productName;\n    listItem.dataset.defaultIndex = defaultIndex ?? Object.keys($3fba0bda95caa784$var$listCollection[listName]).length;\n    listItem.dataset.currentIndex = currentIndex ?? listItem.dataset.defaultIndex;\n    listItem.innerHTML = `\n    <span>${productName}</span>\n    <button>\\u{2716}</button>\n  `;\n    listItem.addEventListener(\"click\", $3fba0bda95caa784$var$changeProductColor);\n    listItem.querySelector(\"button\").addEventListener(\"click\", $3fba0bda95caa784$var$removeProductFromProductList);\n    $3fba0bda95caa784$var$listCollection[listName][productName] = listItem;\n    if (selected) listItem.classList.add(\"selected-product\");\n    $3fba0bda95caa784$var$action.saveToDiskBtn.firstElementChild.classList.remove(\"disabled\");\n};\nconst $3fba0bda95caa784$var$addProductToProductCollection = ({ productName: productName, defaultIndex: defaultIndex, currentIndex: currentIndex, checked: checked = true })=>{\n    const listItem = document.createElement(\"li\");\n    listItem.dataset.productName = productName;\n    listItem.dataset.defaultIndex = defaultIndex ?? Object.keys($3fba0bda95caa784$var$productCollection).length;\n    listItem.dataset.currentIndex = currentIndex ?? listItem.dataset.defaultIndex;\n    listItem.innerHTML = `\n    <div>\n      <input class=\"visually-hidden\" type=\"checkbox\" ${checked ? \"checked\" : \"\"} />\n      <span class=\"custom-checkbox\"></span>\n    </div>\n    <span>${productName}</span>\n    <button>\\u{2716}</button>\n  `;\n    listItem.addEventListener(\"click\", $3fba0bda95caa784$var$toggleProductCheckbox);\n    listItem.querySelector(\"input\").addEventListener(\"change\", $3fba0bda95caa784$var$updateControlAndActionBtns);\n    listItem.querySelector(\"button\").addEventListener(\"click\", $3fba0bda95caa784$var$removeProductFromProductList);\n    $3fba0bda95caa784$var$productCollection[productName] = listItem;\n    $3fba0bda95caa784$var$action.saveToDiskBtn.firstElementChild.classList.remove(\"disabled\");\n};\nconst $3fba0bda95caa784$var$showProductFromListCollection = (productName, listName = $3fba0bda95caa784$var$currentListName)=>{\n    $3fba0bda95caa784$var$product.list.append($3fba0bda95caa784$var$listCollection[listName][productName]);\n    if ($3fba0bda95caa784$var$product.list.children.length > 1) $3fba0bda95caa784$var$control.sortBtn.classList.remove(\"disabled\");\n};\nconst $3fba0bda95caa784$var$showProductFromProductCollection = (productName)=>{\n    $3fba0bda95caa784$var$product.list.append($3fba0bda95caa784$var$productCollection[productName]);\n    $3fba0bda95caa784$var$control.checkBtn.classList.remove(\"disabled\");\n    $3fba0bda95caa784$var$updateControlAndActionBtns();\n    if ($3fba0bda95caa784$var$product.list.children.length > 1) $3fba0bda95caa784$var$control.sortBtn.classList.remove(\"disabled\");\n};\n// ** Functions for product (list-item) in product.list **\nconst $3fba0bda95caa784$var$toggleProductCheckbox = (e)=>{\n    if (getSelection().toString().length > 0) return;\n    e.currentTarget.querySelector(\"input\").click();\n};\nconst $3fba0bda95caa784$var$changeProductColor = (e)=>{\n    e.currentTarget.classList.toggle(\"selected-product\");\n    $3fba0bda95caa784$var$updateActionResetBtn();\n};\nconst $3fba0bda95caa784$var$removeProductFromProductList = (e)=>{\n    const listItem = e.target.closest(\"li\");\n    listItem.remove();\n    if ($3fba0bda95caa784$var$isFormedListActive()) {\n        $3fba0bda95caa784$var$deleteProductFromListCollection(listItem);\n        $3fba0bda95caa784$var$updateActionResetBtn();\n    } else {\n        $3fba0bda95caa784$var$deleteProductFromProductCollection(listItem);\n        $3fba0bda95caa784$var$updateControlAndActionBtns();\n        if ($3fba0bda95caa784$var$product.list.children.length === 0) $3fba0bda95caa784$var$control.checkBtn.classList.add(\"disabled\");\n    }\n    $3fba0bda95caa784$var$updateActionSaveBtn();\n    if ($3fba0bda95caa784$var$product.list.children.length < 2) $3fba0bda95caa784$var$control.sortBtn.classList.add(\"disabled\");\n};\nconst $3fba0bda95caa784$var$deleteProductFromListCollection = (listItem, listName = $3fba0bda95caa784$var$currentListName)=>{\n    listItem.removeEventListener(\"click\", $3fba0bda95caa784$var$changeProductColor);\n    listItem.querySelector(\"button\").removeEventListener(\"click\", $3fba0bda95caa784$var$removeProductFromProductList);\n    delete $3fba0bda95caa784$var$listCollection[listName][listItem.dataset.productName];\n};\nconst $3fba0bda95caa784$var$deleteProductFromProductCollection = (listItem)=>{\n    listItem.removeEventListener(\"click\", $3fba0bda95caa784$var$toggleProductCheckbox);\n    listItem.querySelector(\"input\").removeEventListener(\"change\", $3fba0bda95caa784$var$updateControlAndActionBtns);\n    listItem.querySelector(\"button\").removeEventListener(\"click\", $3fba0bda95caa784$var$removeProductFromProductList);\n    delete $3fba0bda95caa784$var$productCollection[listItem.dataset.productName];\n};\n// ** Functions for action-button (cog-icon) **\nconst $3fba0bda95caa784$var$toggleActionList = ()=>{\n    $3fba0bda95caa784$var$control.actionList.hidden = !$3fba0bda95caa784$var$control.actionList.hidden;\n    if ($3fba0bda95caa784$var$control.actionList.hidden) document.removeEventListener(\"click\", $3fba0bda95caa784$var$toggleActionList);\n};\n// ** Functions for show-button **\nconst $3fba0bda95caa784$var$showProductCollection = ()=>{\n    $3fba0bda95caa784$var$product.list.replaceChildren(...Object.values($3fba0bda95caa784$var$productCollection).sort((a, b)=>a.dataset.currentIndex - b.dataset.currentIndex));\n    $3fba0bda95caa784$var$product.list.classList.remove(\"formed-list\");\n    $3fba0bda95caa784$var$control.showBtn.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$action.resetColorsBtn.firstElementChild.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$updateControlAndActionBtns();\n    $3fba0bda95caa784$var$currentListName = null;\n    if ($3fba0bda95caa784$var$product.list.children.length !== 0) $3fba0bda95caa784$var$control.checkBtn.classList.remove(\"disabled\");\n    if ($3fba0bda95caa784$var$product.list.children.length > 1) $3fba0bda95caa784$var$control.sortBtn.classList.remove(\"disabled\");\n    else $3fba0bda95caa784$var$control.sortBtn.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$selectCollection.forEach((listItem)=>{\n        listItem.classList.remove(\"selected-list\");\n    });\n};\n// ** Functions for form-button **\nconst $3fba0bda95caa784$var$hideModal = ()=>{\n    $3fba0bda95caa784$var$modal.textInput.value = \"\";\n    $3fba0bda95caa784$var$modal.formContainer.hidden = true;\n    document.removeEventListener(\"click\", $3fba0bda95caa784$var$hideModal);\n};\n// ** Functions for modal **\nconst $3fba0bda95caa784$var$addListToSelectCollection = (listName = $3fba0bda95caa784$var$currentListName)=>{\n    const listItem = document.createElement(\"li\");\n    listItem.dataset.listName = listName;\n    listItem.innerHTML = `\n    <span>${listName}</span>\n    <button>\\u{2716}</button>\n  `;\n    listItem.addEventListener(\"click\", $3fba0bda95caa784$var$makeSelectedListCurrent);\n    listItem.querySelector(\"button\").addEventListener(\"click\", $3fba0bda95caa784$var$removeListFromSelectListAndCollection);\n    $3fba0bda95caa784$var$selectCollection.push(listItem);\n    $3fba0bda95caa784$var$control.selectBtn.classList.remove(\"disabled\");\n    $3fba0bda95caa784$var$selectCollection.forEach((listItem)=>{\n        listItem.classList.remove(\"selected-list\");\n    });\n    listItem.classList.add(\"selected-list\");\n};\nconst $3fba0bda95caa784$var$showListCollection = (listName = $3fba0bda95caa784$var$currentListName)=>{\n    $3fba0bda95caa784$var$product.list.replaceChildren(...Object.values($3fba0bda95caa784$var$listCollection[listName]).sort((a, b)=>a.dataset.currentIndex - b.dataset.currentIndex));\n    $3fba0bda95caa784$var$product.list.classList.add(\"formed-list\");\n    $3fba0bda95caa784$var$control.checkBtn.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$control.showBtn.classList.remove(\"disabled\");\n    $3fba0bda95caa784$var$control.formBtn.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$action.deleteSelectedBtn.firstElementChild.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$updateActionResetBtn();\n    if ($3fba0bda95caa784$var$product.list.children.length > 1) $3fba0bda95caa784$var$control.sortBtn.classList.remove(\"disabled\");\n    else $3fba0bda95caa784$var$control.sortBtn.classList.add(\"disabled\");\n};\n// ** Functions for select-button **\nconst $3fba0bda95caa784$var$toggleSelectList = ()=>{\n    $3fba0bda95caa784$var$control.selectList.hidden = !$3fba0bda95caa784$var$control.selectList.hidden;\n    if ($3fba0bda95caa784$var$control.selectList.hidden) document.removeEventListener(\"click\", $3fba0bda95caa784$var$toggleSelectList);\n};\n// ** Functions for list (list-item) in control.selectList **\nconst $3fba0bda95caa784$var$makeSelectedListCurrent = (e)=>{\n    const listItem = e.currentTarget;\n    $3fba0bda95caa784$var$currentListName = listItem.dataset.listName;\n    $3fba0bda95caa784$var$showListCollection();\n    $3fba0bda95caa784$var$selectCollection.forEach((listItem)=>{\n        listItem.classList.remove(\"selected-list\");\n    });\n    listItem.classList.add(\"selected-list\");\n};\nconst $3fba0bda95caa784$var$removeListFromSelectListAndCollection = (e)=>{\n    const listItem = e.target.closest(\"li\");\n    listItem.remove();\n    if (listItem.dataset.listName === $3fba0bda95caa784$var$currentListName) $3fba0bda95caa784$var$showProductCollection();\n    listItem.removeEventListener(\"click\", $3fba0bda95caa784$var$makeSelectedListCurrent);\n    e.target.removeEventListener(\"click\", $3fba0bda95caa784$var$removeListFromSelectListAndCollection);\n    $3fba0bda95caa784$var$selectCollection.splice($3fba0bda95caa784$var$selectCollection.indexOf(listItem), 1);\n    $3fba0bda95caa784$var$deleteListFromListCollection(listItem.dataset.listName);\n    if ($3fba0bda95caa784$var$selectCollection.length) e.stopPropagation();\n    else $3fba0bda95caa784$var$control.selectBtn.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$updateActionSaveBtn();\n};\nconst $3fba0bda95caa784$var$deleteListFromListCollection = (listName)=>{\n    Object.values($3fba0bda95caa784$var$listCollection[listName]).forEach((listItem)=>{\n        $3fba0bda95caa784$var$deleteProductFromListCollection(listItem, listName);\n    });\n    delete $3fba0bda95caa784$var$listCollection[listName];\n};\n// ** Listeners **\n// When the app loaded\nwindow.addEventListener(\"load\", ()=>{\n    if (!localStorage.getItem(\"shopping-list-data\")) return;\n    const shoppingListData = JSON.parse(localStorage.getItem(\"shopping-list-data\"));\n    shoppingListData.productCollection.forEach((productProps)=>{\n        $3fba0bda95caa784$var$addProductToProductCollection(productProps);\n    });\n    Object.entries(shoppingListData.listCollection).forEach(([listName, listArray])=>{\n        $3fba0bda95caa784$var$listCollection[listName] = {};\n        $3fba0bda95caa784$var$addListToSelectCollection(listName);\n        listArray.forEach((productProps)=>{\n            $3fba0bda95caa784$var$addProductToListCollection(productProps);\n        });\n    });\n    $3fba0bda95caa784$var$currentListName = shoppingListData.currentListName;\n    if ($3fba0bda95caa784$var$currentListName) $3fba0bda95caa784$var$showListCollection();\n    else $3fba0bda95caa784$var$showProductCollection();\n    if (Object.values($3fba0bda95caa784$var$productCollection).length !== 0 && Object.values($3fba0bda95caa784$var$productCollection).every((listItem)=>listItem.querySelector(\"input\").checked)) {\n        $3fba0bda95caa784$var$control.checkbox.checked = true;\n        $3fba0bda95caa784$var$control.checkTooltip.innerHTML = \"Remove<br>all\";\n    } else {\n        $3fba0bda95caa784$var$control.checkbox.checked = false;\n        $3fba0bda95caa784$var$control.checkTooltip.innerHTML = \"Select<br>all\";\n    }\n    $3fba0bda95caa784$var$action.deleteFromDiskBtn.firstElementChild.classList.remove(\"disabled\");\n});\n// Pressing x-button in product.textInput\n$3fba0bda95caa784$var$product.form.addEventListener(\"reset\", ()=>$3fba0bda95caa784$var$product.textInput.focus());\n// Pressing add-button\n$3fba0bda95caa784$var$product.form.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const productName = $3fba0bda95caa784$var$product.textInput.value.trim()[0].toUpperCase() + $3fba0bda95caa784$var$product.textInput.value.trim().toLowerCase().slice(1);\n    if ($3fba0bda95caa784$var$isFormedListActive()) {\n        if (Object.hasOwn($3fba0bda95caa784$var$listCollection[$3fba0bda95caa784$var$currentListName], productName)) {\n            $3fba0bda95caa784$var$showPopup($3fba0bda95caa784$var$product.alertPopup, 0);\n            return;\n        }\n        $3fba0bda95caa784$var$addProductToListCollection({\n            productName: productName\n        });\n        $3fba0bda95caa784$var$showProductFromListCollection(productName);\n    } else {\n        if (Object.hasOwn($3fba0bda95caa784$var$productCollection, productName)) {\n            $3fba0bda95caa784$var$showPopup($3fba0bda95caa784$var$product.alertPopup, 0);\n            return;\n        }\n        $3fba0bda95caa784$var$addProductToProductCollection({\n            productName: productName\n        });\n        $3fba0bda95caa784$var$showProductFromProductCollection(productName);\n    }\n    $3fba0bda95caa784$var$product.textInput.value = \"\";\n});\n// Pressing check-button in control-panel\n$3fba0bda95caa784$var$control.checkBtn.addEventListener(\"click\", (e)=>{\n    $3fba0bda95caa784$var$control.checkbox.click();\n});\n// Changing checkbox in control-panel\n$3fba0bda95caa784$var$control.checkbox.addEventListener(\"change\", (e)=>{\n    if ($3fba0bda95caa784$var$control.checkbox.checked) {\n        $3fba0bda95caa784$var$product.list.querySelectorAll('input[type=\"checkbox\"]').forEach((elem)=>elem.checked = true);\n        $3fba0bda95caa784$var$control.checkTooltip.innerHTML = \"Remove<br>all\";\n        $3fba0bda95caa784$var$control.formBtn.classList.remove(\"disabled\");\n        $3fba0bda95caa784$var$action.deleteSelectedBtn.firstElementChild.classList.remove(\"disabled\");\n    } else {\n        $3fba0bda95caa784$var$product.list.querySelectorAll('input[type=\"checkbox\"]').forEach((elem)=>elem.checked = false);\n        $3fba0bda95caa784$var$control.checkTooltip.innerHTML = \"Select<br>all\";\n        $3fba0bda95caa784$var$control.formBtn.classList.add(\"disabled\");\n        $3fba0bda95caa784$var$action.deleteSelectedBtn.firstElementChild.classList.add(\"disabled\");\n    }\n});\n// Pressing action-button (cog-icon)\n$3fba0bda95caa784$var$control.actionBtn.addEventListener(\"click\", (e)=>{\n    e.stopPropagation();\n    if ($3fba0bda95caa784$var$control.actionList.hidden) document.addEventListener(\"click\", $3fba0bda95caa784$var$toggleActionList);\n    $3fba0bda95caa784$var$toggleActionList();\n});\n// Pressing delete-selected-button in control.actionList\n$3fba0bda95caa784$var$action.deleteSelectedBtn.addEventListener(\"click\", (e)=>{\n    if ($3fba0bda95caa784$var$action.deleteSelectedBtn.firstElementChild.classList.contains(\"disabled\")) {\n        e.stopPropagation();\n        return;\n    }\n    $3fba0bda95caa784$var$product.list.querySelectorAll(\"li:has(input:checked)\").forEach((listItem)=>{\n        $3fba0bda95caa784$var$removeProductFromProductList({\n            target: listItem\n        });\n    });\n    $3fba0bda95caa784$var$updateActionSaveBtn();\n});\n// Pressing reset-colors-button in control.actionList\n$3fba0bda95caa784$var$action.resetColorsBtn.addEventListener(\"click\", (e)=>{\n    if ($3fba0bda95caa784$var$action.resetColorsBtn.firstElementChild.classList.contains(\"disabled\")) {\n        e.stopPropagation();\n        return;\n    }\n    Array.from($3fba0bda95caa784$var$product.list.children).forEach((listItem)=>{\n        listItem.classList.remove(\"selected-product\");\n    });\n    $3fba0bda95caa784$var$updateActionResetBtn();\n});\n// Pressing save-to-disk-button in control.actionList\n$3fba0bda95caa784$var$action.saveToDiskBtn.addEventListener(\"click\", (e)=>{\n    if ($3fba0bda95caa784$var$action.saveToDiskBtn.firstElementChild.classList.contains(\"disabled\")) {\n        e.stopPropagation();\n        return;\n    }\n    const shoppingListData = {\n        productCollection: [],\n        listCollection: {}\n    };\n    Object.values($3fba0bda95caa784$var$productCollection).forEach((listItem)=>{\n        shoppingListData.productCollection.push({\n            productName: listItem.dataset.productName,\n            defaultIndex: listItem.dataset.defaultIndex,\n            currentIndex: listItem.dataset.currentIndex,\n            checked: listItem.querySelector(\"input\").checked\n        });\n    });\n    Object.entries($3fba0bda95caa784$var$listCollection).forEach(([listName, list])=>{\n        shoppingListData.listCollection[listName] = [];\n        Object.values(list).forEach((listItem)=>{\n            shoppingListData.listCollection[listName].push({\n                productName: listItem.dataset.productName,\n                defaultIndex: listItem.dataset.defaultIndex,\n                currentIndex: listItem.dataset.currentIndex,\n                selected: listItem.classList.contains(\"selected-product\"),\n                listName: listName\n            });\n        });\n    });\n    shoppingListData.currentListName = $3fba0bda95caa784$var$currentListName;\n    localStorage.setItem(\"shopping-list-data\", JSON.stringify(shoppingListData));\n    $3fba0bda95caa784$var$action.deleteFromDiskBtn.firstElementChild.classList.remove(\"disabled\");\n});\n// Pressing delete-from-disk-button in control.actionList\n$3fba0bda95caa784$var$action.deleteFromDiskBtn.addEventListener(\"click\", (e)=>{\n    if ($3fba0bda95caa784$var$action.deleteFromDiskBtn.firstElementChild.classList.contains(\"disabled\")) {\n        e.stopPropagation();\n        return;\n    }\n    $3fba0bda95caa784$var$modal.confirmContainer.hidden = false;\n});\n// Pressing yes-button in modal\n$3fba0bda95caa784$var$modal.yesBtn.addEventListener(\"click\", ()=>{\n    localStorage.clear();\n    $3fba0bda95caa784$var$action.deleteFromDiskBtn.firstElementChild.classList.add(\"disabled\");\n    $3fba0bda95caa784$var$modal.confirmContainer.hidden = true;\n});\n// Pressing no-button in modal\n$3fba0bda95caa784$var$modal.noBtn.addEventListener(\"click\", ()=>{\n    $3fba0bda95caa784$var$modal.confirmContainer.hidden = true;\n});\n// Pressing sort-button\n$3fba0bda95caa784$var$control.sortBtn.addEventListener(\"click\", ()=>{\n    $3fba0bda95caa784$var$sortIndex++;\n    if ($3fba0bda95caa784$var$isFormedListActive() && $3fba0bda95caa784$var$product.list.querySelector(\"li.selected-product\")) {\n        if ($3fba0bda95caa784$var$sortIndex === 2) $3fba0bda95caa784$var$sortIndex = 3;\n        if ($3fba0bda95caa784$var$sortIndex > 5) $3fba0bda95caa784$var$sortIndex = 0;\n    } else if ($3fba0bda95caa784$var$sortIndex > 2) $3fba0bda95caa784$var$sortIndex = 0;\n    let sortedArray;\n    switch($3fba0bda95caa784$var$sortIndex){\n        case 0:\n            sortedArray = Array.from($3fba0bda95caa784$var$product.list.children).sort((a, b)=>a.dataset.productName.localeCompare(b.dataset.productName));\n            $3fba0bda95caa784$var$control.sortInfoPopup.textContent = \"A-Z\";\n            break;\n        case 1:\n            sortedArray = Array.from($3fba0bda95caa784$var$product.list.children).sort((a, b)=>b.dataset.productName.localeCompare(a.dataset.productName));\n            $3fba0bda95caa784$var$control.sortInfoPopup.textContent = \"Z-A\";\n            break;\n        case 3:\n            sortedArray = Array.of(...$3fba0bda95caa784$var$product.list.querySelectorAll(\"li.selected-product\"), ...$3fba0bda95caa784$var$product.list.querySelectorAll(\"li:not(.selected-product)\"));\n            $3fba0bda95caa784$var$control.sortInfoPopup.innerHTML = \"green<br>up\";\n            break;\n        case 4:\n            sortedArray = Array.of(...$3fba0bda95caa784$var$product.list.querySelectorAll(\"li:not(.selected-product)\"), ...$3fba0bda95caa784$var$product.list.querySelectorAll(\"li.selected-product\"));\n            $3fba0bda95caa784$var$control.sortInfoPopup.innerHTML = \"green<br>down\";\n            break;\n        default:\n            sortedArray = Array.from($3fba0bda95caa784$var$product.list.children).sort((a, b)=>a.dataset.defaultIndex - b.dataset.defaultIndex);\n            $3fba0bda95caa784$var$control.sortInfoPopup.textContent = \"default\";\n    }\n    $3fba0bda95caa784$var$showPopup($3fba0bda95caa784$var$control.sortInfoPopup, 2, 1200, 100);\n    sortedArray.forEach((elem, index)=>elem.dataset.currentIndex = index);\n    $3fba0bda95caa784$var$product.list.replaceChildren(...sortedArray);\n});\n// Pressing show-button\n$3fba0bda95caa784$var$control.showBtn.addEventListener(\"click\", $3fba0bda95caa784$var$showProductCollection);\n// Pressing form-button\n$3fba0bda95caa784$var$control.formBtn.addEventListener(\"click\", (e)=>{\n    e.stopPropagation();\n    $3fba0bda95caa784$var$modal.formContainer.hidden = false;\n    document.addEventListener(\"click\", $3fba0bda95caa784$var$hideModal);\n});\n// Pressing ok-button in modal\n$3fba0bda95caa784$var$modal.form.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const listName = $3fba0bda95caa784$var$modal.textInput.value.trim()[0].toUpperCase() + $3fba0bda95caa784$var$modal.textInput.value.trim().toLowerCase().slice(1);\n    if (Object.hasOwn($3fba0bda95caa784$var$listCollection, listName)) {\n        $3fba0bda95caa784$var$showPopup($3fba0bda95caa784$var$modal.alertPopup, 1);\n        return;\n    }\n    $3fba0bda95caa784$var$listCollection[listName] = {};\n    $3fba0bda95caa784$var$currentListName = listName;\n    $3fba0bda95caa784$var$product.list.querySelectorAll(\"li:has(input:checked)\").forEach((listItem)=>{\n        $3fba0bda95caa784$var$addProductToListCollection({\n            productName: listItem.dataset.productName\n        });\n    });\n    $3fba0bda95caa784$var$addListToSelectCollection();\n    $3fba0bda95caa784$var$showListCollection();\n    $3fba0bda95caa784$var$hideModal();\n});\n// We don't want to hide modal-container when clicking on modal-form\n$3fba0bda95caa784$var$modal.form.addEventListener(\"click\", (e)=>e.stopPropagation());\n// Pressing cancel-button in modal\n$3fba0bda95caa784$var$modal.cancelBtn.addEventListener(\"click\", $3fba0bda95caa784$var$hideModal);\n// Pressing select-button\n$3fba0bda95caa784$var$control.selectBtn.addEventListener(\"click\", (e)=>{\n    e.stopPropagation();\n    if ($3fba0bda95caa784$var$control.selectList.hidden) {\n        $3fba0bda95caa784$var$control.selectList.replaceChildren(...$3fba0bda95caa784$var$selectCollection);\n        document.addEventListener(\"click\", $3fba0bda95caa784$var$toggleSelectList);\n    }\n    $3fba0bda95caa784$var$toggleSelectList();\n});\n\n\n//# sourceMappingURL=ShoppingList.aa624b9c.js.map\n","// ** DOM-elements **\nconst product = {\n  form: document.getElementById(\"product-form\"),\n  textInput: document.getElementById(\"product-text-input\"),\n  alertPopup: document.getElementById(\"product-form\").querySelector(\".alert\"),\n  list: document.getElementById(\"product-ordered-list\"),\n};\n\nconst modal = {\n  formContainer: document.getElementById(\"modal-1\"),\n  form: document.getElementById(\"modal-form\"),\n  textInput: document.getElementById(\"modal-text-input\"),\n  cancelBtn: document.getElementById(\"modal-cancel-button\"),\n  alertPopup: document.getElementById(\"modal-form\").querySelector(\".alert\"),\n  confirmContainer: document.getElementById(\"modal-2\"),\n  yesBtn: document.getElementById(\"modal-yes-button\"),\n  noBtn: document.getElementById(\"modal-no-button\"),\n};\n\nconst control = {\n  checkTooltip: document.getElementById(\"check-button\").querySelector(\".tooltip\"),\n  checkbox: document.getElementById(\"toggle-all-checkbox\"),\n  checkBtn: document.getElementById(\"check-button\"),\n  actionBtn: document.getElementById(\"action-button\"),\n  actionList: document.getElementById(\"action-unordered-list\"),\n  sortBtn: document.getElementById(\"sort-button\"),\n  sortInfoPopup: document.getElementById(\"sort-button\").querySelector(\".sort-type-info\"),\n  formBtn: document.getElementById(\"form-button\"),\n  showBtn: document.getElementById(\"show-button\"),\n  selectBtn: document.getElementById(\"select-button\"),\n  selectList: document.getElementById(\"select-unordered-list\"),\n};\n\nconst action = {\n  deleteSelectedBtn: document.getElementById(\"delete-selected-button\"),\n  resetColorsBtn: document.getElementById(\"reset-colors-button\"),\n  saveToDiskBtn: document.getElementById(\"save-to-disk-button\"),\n  deleteFromDiskBtn: document.getElementById(\"delete-from-disk-button\"),\n};\n\n// ** Variables **\nconst productCollection = {}; // general collection containing all list-items added to product.list without \"formed-list\" class\n\nconst listCollection = {}; // collection of lists, e.g. { list1: { Milk: element } }\nlet currentListName = null; // name of the list that is currently shown in product.list with \"formed-list\" class, e.g. list1\n\nconst selectCollection = []; // array-collection of list-items added to control.selectList where each represents a corresponding list from listCollection\n\nconst popupTimerIDs = [];\n\nlet sortIndex = 2;\n\n// ** How it works **\n// If product.list has \"formed-list\" class then add-button will add list-item only to listCollection[currentListName] object\n// If product.list has \"formed-list\" class then it shows only list-items that are currently in listCollection[currentListName] object\n\n// If product.list has no \"formed-list\" class then add-button will add list-item only to productCollection object\n// If product.list has no \"formed-list\" class then it shows only list-items that are currently in productCollection object\n\n// ** Common Functions **\nconst isFormedListActive = () => product.list.classList.contains(\"formed-list\");\n\nconst showPopup = (popup, index, duration = 1800, fading = 200) => {\n  popup.style.visibility = \"visible\";\n  popup.style.opacity = 1;\n  clearTimeout(popupTimerIDs[index]);\n  popupTimerIDs[index] = setTimeout(() => {\n    popup.style.opacity = 0;\n    setTimeout(() => {\n      popup.style.visibility = \"hidden\";\n    }, fading);\n  }, duration);\n};\n\nconst updateControlAndActionBtns = () => {\n  if (\n    product.list.children.length !== 0 &&\n    Array.from(product.list.children).every((listItem) => listItem.querySelector(\"input\").checked)\n  ) {\n    control.checkbox.checked = true;\n    control.checkTooltip.innerHTML = \"Remove<br>all\";\n  } else {\n    control.checkbox.checked = false;\n    control.checkTooltip.innerHTML = \"Select<br>all\";\n  }\n\n  if (product.list.querySelector(\"li:has(input:checked)\")) {\n    control.formBtn.classList.remove(\"disabled\");\n    action.deleteSelectedBtn.firstElementChild.classList.remove(\"disabled\");\n  } else {\n    control.formBtn.classList.add(\"disabled\");\n    action.deleteSelectedBtn.firstElementChild.classList.add(\"disabled\");\n  }\n};\n\nconst updateActionResetBtn = () => {\n  if (product.list.querySelector(\"li.selected-product\")) {\n    action.resetColorsBtn.firstElementChild.classList.remove(\"disabled\");\n  } else {\n    action.resetColorsBtn.firstElementChild.classList.add(\"disabled\");\n  }\n};\n\nconst updateActionSaveBtn = () => {\n  if (Object.keys(productCollection).length !== 0 || selectCollection.length !== 0) {\n    action.saveToDiskBtn.firstElementChild.classList.remove(\"disabled\");\n  } else {\n    action.saveToDiskBtn.firstElementChild.classList.add(\"disabled\");\n  }\n};\n\n// ** Functions for add-button **\nconst addProductToListCollection = ({\n  productName,\n  defaultIndex,\n  currentIndex,\n  selected,\n  listName = currentListName,\n}) => {\n  const listItem = document.createElement(\"li\");\n  listItem.dataset.productName = productName;\n  listItem.dataset.defaultIndex = defaultIndex ?? Object.keys(listCollection[listName]).length;\n  listItem.dataset.currentIndex = currentIndex ?? listItem.dataset.defaultIndex;\n  listItem.innerHTML = `\n    <span>${productName}</span>\n    <button>✖</button>\n  `;\n\n  listItem.addEventListener(\"click\", changeProductColor);\n  listItem.querySelector(\"button\").addEventListener(\"click\", removeProductFromProductList);\n\n  listCollection[listName][productName] = listItem;\n\n  if (selected) listItem.classList.add(\"selected-product\");\n\n  action.saveToDiskBtn.firstElementChild.classList.remove(\"disabled\");\n};\n\nconst addProductToProductCollection = ({ productName, defaultIndex, currentIndex, checked = true }) => {\n  const listItem = document.createElement(\"li\");\n  listItem.dataset.productName = productName;\n  listItem.dataset.defaultIndex = defaultIndex ?? Object.keys(productCollection).length;\n  listItem.dataset.currentIndex = currentIndex ?? listItem.dataset.defaultIndex;\n  listItem.innerHTML = `\n    <div>\n      <input class=\"visually-hidden\" type=\"checkbox\" ${checked ? \"checked\" : \"\"} />\n      <span class=\"custom-checkbox\"></span>\n    </div>\n    <span>${productName}</span>\n    <button>✖</button>\n  `;\n\n  listItem.addEventListener(\"click\", toggleProductCheckbox);\n  listItem.querySelector(\"input\").addEventListener(\"change\", updateControlAndActionBtns);\n  listItem.querySelector(\"button\").addEventListener(\"click\", removeProductFromProductList);\n\n  productCollection[productName] = listItem;\n\n  action.saveToDiskBtn.firstElementChild.classList.remove(\"disabled\");\n};\n\nconst showProductFromListCollection = (productName, listName = currentListName) => {\n  product.list.append(listCollection[listName][productName]);\n\n  if (product.list.children.length > 1) {\n    control.sortBtn.classList.remove(\"disabled\");\n  }\n};\n\nconst showProductFromProductCollection = (productName) => {\n  product.list.append(productCollection[productName]);\n  control.checkBtn.classList.remove(\"disabled\");\n  updateControlAndActionBtns();\n\n  if (product.list.children.length > 1) {\n    control.sortBtn.classList.remove(\"disabled\");\n  }\n};\n\n// ** Functions for product (list-item) in product.list **\nconst toggleProductCheckbox = (e) => {\n  if (getSelection().toString().length > 0) return;\n  e.currentTarget.querySelector(\"input\").click();\n};\n\nconst changeProductColor = (e) => {\n  e.currentTarget.classList.toggle(\"selected-product\");\n  updateActionResetBtn();\n};\n\nconst removeProductFromProductList = (e) => {\n  const listItem = e.target.closest(\"li\");\n\n  listItem.remove();\n\n  if (isFormedListActive()) {\n    deleteProductFromListCollection(listItem);\n    updateActionResetBtn();\n  } else {\n    deleteProductFromProductCollection(listItem);\n    updateControlAndActionBtns();\n\n    if (product.list.children.length === 0) {\n      control.checkBtn.classList.add(\"disabled\");\n    }\n  }\n\n  updateActionSaveBtn();\n\n  if (product.list.children.length < 2) {\n    control.sortBtn.classList.add(\"disabled\");\n  }\n};\n\nconst deleteProductFromListCollection = (listItem, listName = currentListName) => {\n  listItem.removeEventListener(\"click\", changeProductColor);\n  listItem.querySelector(\"button\").removeEventListener(\"click\", removeProductFromProductList);\n\n  delete listCollection[listName][listItem.dataset.productName];\n};\n\nconst deleteProductFromProductCollection = (listItem) => {\n  listItem.removeEventListener(\"click\", toggleProductCheckbox);\n  listItem.querySelector(\"input\").removeEventListener(\"change\", updateControlAndActionBtns);\n  listItem.querySelector(\"button\").removeEventListener(\"click\", removeProductFromProductList);\n\n  delete productCollection[listItem.dataset.productName];\n};\n\n// ** Functions for action-button (cog-icon) **\nconst toggleActionList = () => {\n  control.actionList.hidden = !control.actionList.hidden;\n\n  if (control.actionList.hidden) {\n    document.removeEventListener(\"click\", toggleActionList);\n  }\n};\n\n// ** Functions for show-button **\nconst showProductCollection = () => {\n  product.list.replaceChildren(\n    ...Object.values(productCollection).sort((a, b) => a.dataset.currentIndex - b.dataset.currentIndex)\n  );\n  product.list.classList.remove(\"formed-list\");\n  control.showBtn.classList.add(\"disabled\");\n  action.resetColorsBtn.firstElementChild.classList.add(\"disabled\");\n  updateControlAndActionBtns();\n  currentListName = null;\n\n  if (product.list.children.length !== 0) {\n    control.checkBtn.classList.remove(\"disabled\");\n  }\n\n  if (product.list.children.length > 1) {\n    control.sortBtn.classList.remove(\"disabled\");\n  } else {\n    control.sortBtn.classList.add(\"disabled\");\n  }\n\n  selectCollection.forEach((listItem) => {\n    listItem.classList.remove(\"selected-list\");\n  });\n};\n\n// ** Functions for form-button **\nconst hideModal = () => {\n  modal.textInput.value = \"\";\n  modal.formContainer.hidden = true;\n  document.removeEventListener(\"click\", hideModal);\n};\n\n// ** Functions for modal **\nconst addListToSelectCollection = (listName = currentListName) => {\n  const listItem = document.createElement(\"li\");\n  listItem.dataset.listName = listName;\n  listItem.innerHTML = `\n    <span>${listName}</span>\n    <button>✖</button>\n  `;\n\n  listItem.addEventListener(\"click\", makeSelectedListCurrent);\n  listItem.querySelector(\"button\").addEventListener(\"click\", removeListFromSelectListAndCollection);\n\n  selectCollection.push(listItem);\n  control.selectBtn.classList.remove(\"disabled\");\n\n  selectCollection.forEach((listItem) => {\n    listItem.classList.remove(\"selected-list\");\n  });\n  listItem.classList.add(\"selected-list\");\n};\n\nconst showListCollection = (listName = currentListName) => {\n  product.list.replaceChildren(\n    ...Object.values(listCollection[listName]).sort((a, b) => a.dataset.currentIndex - b.dataset.currentIndex)\n  );\n  product.list.classList.add(\"formed-list\");\n  control.checkBtn.classList.add(\"disabled\");\n  control.showBtn.classList.remove(\"disabled\");\n  control.formBtn.classList.add(\"disabled\");\n  action.deleteSelectedBtn.firstElementChild.classList.add(\"disabled\");\n  updateActionResetBtn();\n\n  if (product.list.children.length > 1) {\n    control.sortBtn.classList.remove(\"disabled\");\n  } else {\n    control.sortBtn.classList.add(\"disabled\");\n  }\n};\n\n// ** Functions for select-button **\nconst toggleSelectList = () => {\n  control.selectList.hidden = !control.selectList.hidden;\n\n  if (control.selectList.hidden) {\n    document.removeEventListener(\"click\", toggleSelectList);\n  }\n};\n\n// ** Functions for list (list-item) in control.selectList **\nconst makeSelectedListCurrent = (e) => {\n  const listItem = e.currentTarget;\n  currentListName = listItem.dataset.listName;\n\n  showListCollection();\n\n  selectCollection.forEach((listItem) => {\n    listItem.classList.remove(\"selected-list\");\n  });\n  listItem.classList.add(\"selected-list\");\n};\n\nconst removeListFromSelectListAndCollection = (e) => {\n  const listItem = e.target.closest(\"li\");\n\n  listItem.remove();\n\n  if (listItem.dataset.listName === currentListName) {\n    showProductCollection();\n  }\n\n  listItem.removeEventListener(\"click\", makeSelectedListCurrent);\n  e.target.removeEventListener(\"click\", removeListFromSelectListAndCollection);\n\n  selectCollection.splice(selectCollection.indexOf(listItem), 1);\n  deleteListFromListCollection(listItem.dataset.listName);\n\n  if (selectCollection.length) e.stopPropagation();\n  else control.selectBtn.classList.add(\"disabled\");\n\n  updateActionSaveBtn();\n};\n\nconst deleteListFromListCollection = (listName) => {\n  Object.values(listCollection[listName]).forEach((listItem) => {\n    deleteProductFromListCollection(listItem, listName);\n  });\n\n  delete listCollection[listName];\n};\n\n// ** Listeners **\n// When the app loaded\nwindow.addEventListener(\"load\", () => {\n  if (!localStorage.getItem(\"shopping-list-data\")) return;\n\n  const shoppingListData = JSON.parse(localStorage.getItem(\"shopping-list-data\"));\n\n  shoppingListData.productCollection.forEach((productProps) => {\n    addProductToProductCollection(productProps);\n  });\n\n  Object.entries(shoppingListData.listCollection).forEach(([listName, listArray]) => {\n    listCollection[listName] = {};\n    addListToSelectCollection(listName);\n\n    listArray.forEach((productProps) => {\n      addProductToListCollection(productProps);\n    });\n  });\n\n  currentListName = shoppingListData.currentListName;\n  if (currentListName) {\n    showListCollection();\n  } else {\n    showProductCollection();\n  }\n\n  if (\n    Object.values(productCollection).length !== 0 &&\n    Object.values(productCollection).every((listItem) => listItem.querySelector(\"input\").checked)\n  ) {\n    control.checkbox.checked = true;\n    control.checkTooltip.innerHTML = \"Remove<br>all\";\n  } else {\n    control.checkbox.checked = false;\n    control.checkTooltip.innerHTML = \"Select<br>all\";\n  }\n\n  action.deleteFromDiskBtn.firstElementChild.classList.remove(\"disabled\");\n});\n\n// Pressing x-button in product.textInput\nproduct.form.addEventListener(\"reset\", () => product.textInput.focus());\n\n// Pressing add-button\nproduct.form.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  const productName =\n    product.textInput.value.trim()[0].toUpperCase() + product.textInput.value.trim().toLowerCase().slice(1);\n\n  if (isFormedListActive()) {\n    if (Object.hasOwn(listCollection[currentListName], productName)) {\n      showPopup(product.alertPopup, 0);\n      return;\n    }\n\n    addProductToListCollection({ productName });\n    showProductFromListCollection(productName);\n  } else {\n    if (Object.hasOwn(productCollection, productName)) {\n      showPopup(product.alertPopup, 0);\n      return;\n    }\n\n    addProductToProductCollection({ productName });\n    showProductFromProductCollection(productName);\n  }\n\n  product.textInput.value = \"\";\n});\n\n// Pressing check-button in control-panel\ncontrol.checkBtn.addEventListener(\"click\", (e) => {\n  control.checkbox.click();\n});\n\n// Changing checkbox in control-panel\ncontrol.checkbox.addEventListener(\"change\", (e) => {\n  if (control.checkbox.checked) {\n    product.list.querySelectorAll('input[type=\"checkbox\"]').forEach((elem) => (elem.checked = true));\n    control.checkTooltip.innerHTML = \"Remove<br>all\";\n    control.formBtn.classList.remove(\"disabled\");\n    action.deleteSelectedBtn.firstElementChild.classList.remove(\"disabled\");\n  } else {\n    product.list.querySelectorAll('input[type=\"checkbox\"]').forEach((elem) => (elem.checked = false));\n    control.checkTooltip.innerHTML = \"Select<br>all\";\n    control.formBtn.classList.add(\"disabled\");\n    action.deleteSelectedBtn.firstElementChild.classList.add(\"disabled\");\n  }\n});\n\n// Pressing action-button (cog-icon)\ncontrol.actionBtn.addEventListener(\"click\", (e) => {\n  e.stopPropagation();\n\n  if (control.actionList.hidden) {\n    document.addEventListener(\"click\", toggleActionList);\n  }\n\n  toggleActionList();\n});\n\n// Pressing delete-selected-button in control.actionList\naction.deleteSelectedBtn.addEventListener(\"click\", (e) => {\n  if (action.deleteSelectedBtn.firstElementChild.classList.contains(\"disabled\")) {\n    e.stopPropagation();\n    return;\n  }\n\n  product.list.querySelectorAll(\"li:has(input:checked)\").forEach((listItem) => {\n    removeProductFromProductList({ target: listItem });\n  });\n\n  updateActionSaveBtn();\n});\n\n// Pressing reset-colors-button in control.actionList\naction.resetColorsBtn.addEventListener(\"click\", (e) => {\n  if (action.resetColorsBtn.firstElementChild.classList.contains(\"disabled\")) {\n    e.stopPropagation();\n    return;\n  }\n\n  Array.from(product.list.children).forEach((listItem) => {\n    listItem.classList.remove(\"selected-product\");\n  });\n\n  updateActionResetBtn();\n});\n\n// Pressing save-to-disk-button in control.actionList\naction.saveToDiskBtn.addEventListener(\"click\", (e) => {\n  if (action.saveToDiskBtn.firstElementChild.classList.contains(\"disabled\")) {\n    e.stopPropagation();\n    return;\n  }\n\n  const shoppingListData = {\n    productCollection: [],\n    listCollection: {},\n  };\n\n  Object.values(productCollection).forEach((listItem) => {\n    shoppingListData.productCollection.push({\n      productName: listItem.dataset.productName,\n      defaultIndex: listItem.dataset.defaultIndex,\n      currentIndex: listItem.dataset.currentIndex,\n      checked: listItem.querySelector(\"input\").checked,\n    });\n  });\n  Object.entries(listCollection).forEach(([listName, list]) => {\n    shoppingListData.listCollection[listName] = [];\n    Object.values(list).forEach((listItem) => {\n      shoppingListData.listCollection[listName].push({\n        productName: listItem.dataset.productName,\n        defaultIndex: listItem.dataset.defaultIndex,\n        currentIndex: listItem.dataset.currentIndex,\n        selected: listItem.classList.contains(\"selected-product\"),\n        listName: listName,\n      });\n    });\n  });\n  shoppingListData.currentListName = currentListName;\n\n  localStorage.setItem(\"shopping-list-data\", JSON.stringify(shoppingListData));\n\n  action.deleteFromDiskBtn.firstElementChild.classList.remove(\"disabled\");\n});\n\n// Pressing delete-from-disk-button in control.actionList\naction.deleteFromDiskBtn.addEventListener(\"click\", (e) => {\n  if (action.deleteFromDiskBtn.firstElementChild.classList.contains(\"disabled\")) {\n    e.stopPropagation();\n    return;\n  }\n\n  modal.confirmContainer.hidden = false;\n});\n\n// Pressing yes-button in modal\nmodal.yesBtn.addEventListener(\"click\", () => {\n  localStorage.clear();\n\n  action.deleteFromDiskBtn.firstElementChild.classList.add(\"disabled\");\n\n  modal.confirmContainer.hidden = true;\n});\n\n// Pressing no-button in modal\nmodal.noBtn.addEventListener(\"click\", () => {\n  modal.confirmContainer.hidden = true;\n});\n\n// Pressing sort-button\ncontrol.sortBtn.addEventListener(\"click\", () => {\n  sortIndex++;\n  if (isFormedListActive() && product.list.querySelector(\"li.selected-product\")) {\n    if (sortIndex === 2) sortIndex = 3;\n    if (sortIndex > 5) sortIndex = 0;\n  } else {\n    if (sortIndex > 2) sortIndex = 0;\n  }\n  let sortedArray;\n\n  switch (sortIndex) {\n    case 0: // A-Z\n      sortedArray = Array.from(product.list.children).sort((a, b) =>\n        a.dataset.productName.localeCompare(b.dataset.productName)\n      );\n      control.sortInfoPopup.textContent = \"A-Z\";\n      break;\n    case 1: // Z-A\n      sortedArray = Array.from(product.list.children).sort((a, b) =>\n        b.dataset.productName.localeCompare(a.dataset.productName)\n      );\n      control.sortInfoPopup.textContent = \"Z-A\";\n      break;\n    case 3: // green up\n      sortedArray = Array.of(\n        ...product.list.querySelectorAll(\"li.selected-product\"),\n        ...product.list.querySelectorAll(\"li:not(.selected-product)\")\n      );\n      control.sortInfoPopup.innerHTML = \"green<br>up\";\n      break;\n    case 4: // green down\n      sortedArray = Array.of(\n        ...product.list.querySelectorAll(\"li:not(.selected-product)\"),\n        ...product.list.querySelectorAll(\"li.selected-product\")\n      );\n      control.sortInfoPopup.innerHTML = \"green<br>down\";\n      break;\n    default: // default\n      sortedArray = Array.from(product.list.children).sort((a, b) => a.dataset.defaultIndex - b.dataset.defaultIndex);\n      control.sortInfoPopup.textContent = \"default\";\n  }\n\n  showPopup(control.sortInfoPopup, 2, 1200, 100);\n\n  sortedArray.forEach((elem, index) => (elem.dataset.currentIndex = index));\n\n  product.list.replaceChildren(...sortedArray);\n});\n\n// Pressing show-button\ncontrol.showBtn.addEventListener(\"click\", showProductCollection);\n\n// Pressing form-button\ncontrol.formBtn.addEventListener(\"click\", (e) => {\n  e.stopPropagation();\n\n  modal.formContainer.hidden = false;\n  document.addEventListener(\"click\", hideModal);\n});\n\n// Pressing ok-button in modal\nmodal.form.addEventListener(\"submit\", (e) => {\n  e.preventDefault();\n\n  const listName = modal.textInput.value.trim()[0].toUpperCase() + modal.textInput.value.trim().toLowerCase().slice(1);\n\n  if (Object.hasOwn(listCollection, listName)) {\n    showPopup(modal.alertPopup, 1);\n    return;\n  }\n\n  listCollection[listName] = {};\n  currentListName = listName;\n\n  product.list.querySelectorAll(\"li:has(input:checked)\").forEach((listItem) => {\n    addProductToListCollection({ productName: listItem.dataset.productName });\n  });\n\n  addListToSelectCollection();\n  showListCollection();\n\n  hideModal();\n});\n\n// We don't want to hide modal-container when clicking on modal-form\nmodal.form.addEventListener(\"click\", (e) => e.stopPropagation());\n\n// Pressing cancel-button in modal\nmodal.cancelBtn.addEventListener(\"click\", hideModal);\n\n// Pressing select-button\ncontrol.selectBtn.addEventListener(\"click\", (e) => {\n  e.stopPropagation();\n\n  if (control.selectList.hidden) {\n    control.selectList.replaceChildren(...selectCollection);\n    document.addEventListener(\"click\", toggleSelectList);\n  }\n\n  toggleSelectList();\n});\n"],"names":["$3fba0bda95caa784$var$product","form","document","getElementById","textInput","alertPopup","querySelector","list","$3fba0bda95caa784$var$modal","formContainer","cancelBtn","confirmContainer","yesBtn","noBtn","$3fba0bda95caa784$var$control","checkTooltip","checkbox","checkBtn","actionBtn","actionList","sortBtn","sortInfoPopup","formBtn","showBtn","selectBtn","selectList","$3fba0bda95caa784$var$action","deleteSelectedBtn","resetColorsBtn","saveToDiskBtn","deleteFromDiskBtn","$3fba0bda95caa784$var$productCollection","$3fba0bda95caa784$var$listCollection","$3fba0bda95caa784$var$currentListName","$3fba0bda95caa784$var$selectCollection","$3fba0bda95caa784$var$popupTimerIDs","$3fba0bda95caa784$var$sortIndex","$3fba0bda95caa784$var$isFormedListActive","classList","contains","$3fba0bda95caa784$var$showPopup","popup","index","duration","fading","style","visibility","opacity","clearTimeout","setTimeout","$3fba0bda95caa784$var$updateControlAndActionBtns","children","length","Array","from","every","listItem","checked","innerHTML","remove","firstElementChild","add","$3fba0bda95caa784$var$updateActionResetBtn","$3fba0bda95caa784$var$updateActionSaveBtn","Object","keys","$3fba0bda95caa784$var$addProductToListCollection","productName","defaultIndex","currentIndex","selected","listName","createElement","dataset","addEventListener","$3fba0bda95caa784$var$changeProductColor","$3fba0bda95caa784$var$removeProductFromProductList","$3fba0bda95caa784$var$addProductToProductCollection","$3fba0bda95caa784$var$toggleProductCheckbox","$3fba0bda95caa784$var$showProductFromListCollection","append","e","getSelection","toString","currentTarget","click","toggle","target","closest","$3fba0bda95caa784$var$deleteProductFromListCollection","$3fba0bda95caa784$var$deleteProductFromProductCollection","removeEventListener","$3fba0bda95caa784$var$toggleActionList","hidden","$3fba0bda95caa784$var$showProductCollection","replaceChildren","values","sort","a","b","forEach","$3fba0bda95caa784$var$hideModal","value","$3fba0bda95caa784$var$addListToSelectCollection","$3fba0bda95caa784$var$makeSelectedListCurrent","$3fba0bda95caa784$var$removeListFromSelectListAndCollection","push","$3fba0bda95caa784$var$showListCollection","$3fba0bda95caa784$var$toggleSelectList","splice","indexOf","$3fba0bda95caa784$var$deleteListFromListCollection","stopPropagation","window","localStorage","getItem","shoppingListData","JSON","parse","productCollection","productProps","entries","listCollection","listArray","currentListName","focus","preventDefault","trim","toUpperCase","toLowerCase","slice","hasOwn","querySelectorAll","elem","setItem","stringify","clear","sortedArray","localeCompare","textContent","of"],"version":3,"file":"ShoppingList.aa624b9c.js.map"}